{"remainingRequest":"E:\\padagogy-object\\padagogy-reception\\node_modules\\babel-loader\\lib\\index.js!E:\\padagogy-object\\padagogy-reception\\src\\directives\\loading.js","dependencies":[{"path":"E:\\padagogy-object\\padagogy-reception\\src\\directives\\loading.js","mtime":1652796761149},{"path":"E:\\padagogy-object\\padagogy-reception\\babel.config.js","mtime":1647849872931},{"path":"E:\\padagogy-object\\padagogy-reception\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647849868210},{"path":"E:\\padagogy-object\\padagogy-reception\\node_modules\\babel-loader\\lib\\index.js","mtime":1647849868753}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGxvYWRpbmdVcmwgZnJvbSAiQC9hc3NldHMvbG9hZGluZy5zdmciOwppbXBvcnQgc3R5bGVzIGZyb20gIi4vbG9hZGluZy5tb2R1bGUubGVzcyI7IC8vIOW+l+WIsGVs5LitbG9hZGluZ+aViOaenOeahGltZ+WFg+e0oAoKZnVuY3Rpb24gZ2V0TG9hZGluZ0ltYWdlKGVsKSB7CiAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoImltZ1tkYXRhLXJvbGU9bG9hZGluZ10iKTsKfQoKZnVuY3Rpb24gY3JlYXRlTG9hZGluZ0ltZygpIHsKICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgaW1nLmRhdGFzZXQucm9sZSA9ICJsb2FkaW5nIjsKICBpbWcuc3JjID0gbG9hZGluZ1VybDsKICBpbWcuY2xhc3NOYW1lID0gc3R5bGVzLmxvYWRpbmc7CiAgcmV0dXJuIGltZzsKfSAvLyDlr7zlh7rmjIfku6TnmoTphY3nva7lr7nosaEKCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZWwsIGJpbmRpbmcpIHsKICAvLyBjb25zb2xlLmxvZyhlbCwgYmluZGluZyk7CiAgLy8g5qC55o2uIGJpbmRpbmcudmFsdWUg55qE5YC877yM5Yaz5a6a5Yib5bu65oiW5Yig6ZmkaW1n5YWD57SgCiAgdmFyIGN1ckltZyA9IGdldExvYWRpbmdJbWFnZShlbCk7CgogIGlmIChiaW5kaW5nLnZhbHVlKSB7CiAgICBpZiAoIWN1ckltZykgewogICAgICB2YXIgaW1nID0gY3JlYXRlTG9hZGluZ0ltZygpOwogICAgICBlbC5hcHBlbmRDaGlsZChpbWcpOwogICAgfQogIH0gZWxzZSB7CiAgICBpZiAoY3VySW1nKSB7CiAgICAgIGN1ckltZy5yZW1vdmUoKTsKICAgIH0KICB9Cn0="},{"version":3,"sources":["E:/padagogy-object/padagogy-reception/src/directives/loading.js"],"names":["loadingUrl","styles","getLoadingImage","el","querySelector","createLoadingImg","img","document","createElement","dataset","role","src","className","loading","binding","curImg","value","appendChild","remove"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,sBAAvB;AACA,OAAOC,MAAP,MAAmB,uBAAnB,C,CACA;;AACA,SAASC,eAAT,CAAyBC,EAAzB,EAA6B;AAC3B,SAAOA,EAAE,CAACC,aAAH,CAAiB,wBAAjB,CAAP;AACD;;AAED,SAASC,gBAAT,GAA4B;AAC1B,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACAF,EAAAA,GAAG,CAACG,OAAJ,CAAYC,IAAZ,GAAmB,SAAnB;AACAJ,EAAAA,GAAG,CAACK,GAAJ,GAAUX,UAAV;AACAM,EAAAA,GAAG,CAACM,SAAJ,GAAgBX,MAAM,CAACY,OAAvB;AACA,SAAOP,GAAP;AACD,C,CAED;;;AACA,eAAe,UAAUH,EAAV,EAAcW,OAAd,EAAuB;AACpC;AACA;AACA,MAAMC,MAAM,GAAGb,eAAe,CAACC,EAAD,CAA9B;;AACA,MAAIW,OAAO,CAACE,KAAZ,EAAmB;AACjB,QAAI,CAACD,MAAL,EAAa;AACX,UAAMT,GAAG,GAAGD,gBAAgB,EAA5B;AACAF,MAAAA,EAAE,CAACc,WAAH,CAAeX,GAAf;AACD;AACF,GALD,MAKO;AACL,QAAIS,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACG,MAAP;AACD;AACF;AACF","sourcesContent":["import loadingUrl from \"@/assets/loading.svg\";\r\nimport styles from \"./loading.module.less\";\r\n// 得到el中loading效果的img元素\r\nfunction getLoadingImage(el) {\r\n  return el.querySelector(\"img[data-role=loading]\");\r\n}\r\n\r\nfunction createLoadingImg() {\r\n  const img = document.createElement(\"img\");\r\n  img.dataset.role = \"loading\";\r\n  img.src = loadingUrl;\r\n  img.className = styles.loading;\r\n  return img;\r\n}\r\n\r\n// 导出指令的配置对象\r\nexport default function (el, binding) {\r\n  // console.log(el, binding);\r\n  // 根据 binding.value 的值，决定创建或删除img元素\r\n  const curImg = getLoadingImage(el);\r\n  if (binding.value) {\r\n    if (!curImg) {\r\n      const img = createLoadingImg();\r\n      el.appendChild(img);\r\n    }\r\n  } else {\r\n    if (curImg) {\r\n      curImg.remove();\r\n    }\r\n  }\r\n}\r\n"]}]}